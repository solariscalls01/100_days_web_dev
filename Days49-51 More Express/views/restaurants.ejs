<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eatwell - Make The World A Tastier Place</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/shared.css" />
    <link rel="stylesheet" href="styles/restaurants.css" />
    <script src="scripts/responsive.js" defer></script>
  </head>
  <body>
    <header id="main-header">
      <div id="logo"><a href="/">Eatwell</a></div>
      <nav>
        <ul>
          <li class="nav-item">
            <!-- When using any backend routes, the href no longer takes in the .html portion. Instead it needs to match the route from the app.js -->
            <a href="/restaurants">Browse Restaurants</a>
          </li>
          <li class="nav-item">
            <a href="/recommend">Share a Restaurant</a>
          </li>
          <li class="nav-item"><a href="/about">About Eatwell</a></li>
        </ul>
      </nav>
      <button id="drawer-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </header>
    <aside id="mobile-drawer">
      <nav>
        <ul>
          <li class="nav-item">
            <a href="/restaurants">Browse Restaurants</a>
          </li>
          <li class="nav-item">
            <a href="/recommend">Share a Restaurant</a>
          </li>
          <li class="nav-item"><a href="/about">About Eatwell</a></li>
        </ul>
      </nav>
    </aside>
    <main>
      <h1>Recommended restaurants</h1>
      
      <!-- USING EJS TEMPLATING SYNTAX -->
      <!-- Template format uses the < %= anyvariablenameyouwant %>  -->
      <!-- The variable inside the syntax will be passed in the app.get, in the res.render section -->

      <p>We found <%= numberofRestaurants %> restaurants.</p>
      <p>Find your next favorite restaurants with help of our other users!</p>
      <ul id="restaurants-list">

        <!-- USING EJS to loop to iterate through a segment of code. Using the for loop, we iterate through the restaurants.json file and use the objects to parse through the key/value pair 
          for our loop to output the items we want. (e.g., .name, .address .website). In order to connect the restaurants object, we need to connect it in the res.render in the app.js -->
          <!-- The setup for the loop in this case needs to be that the objects be inside the li items or articles.  -->
        <% for (const restaurant of restaurants) { %>
          <li class="restaurant-item">
            <article>
              <h2><%= restaurant.name %></h2>
              <div class="restaurant-meta">
              <!-- Replacing the cuisine values with the EJS format taken from our JSON file -->
                <p><%= restaurant.cuisine  %></p>
                <p><%= restaurant.address %></p>
              </div>
              <p>
                <%= restaurant.description  %>
              </p>
              <div class="restaurant-actions">
                <a href="<%=restaurant.website%>">View Website</a>
              </div>
            </article>
          </li>
        <% } %>

      </ul>
    </main>
  </body>
</html>
